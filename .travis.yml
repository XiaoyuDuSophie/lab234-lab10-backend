language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/myBackend.jar -t $DOCKER_USERNAME/se234-lab10-backend
  .
- docker push sophiedu/se234-lab10-backend
- docker pull sophiedu/se234-lab10-client
script:
- docker-compose -H "$HOST_NAME" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: R2i7xYeR6G5bTButW9AlyV4MjQlon00SKkweb6/xLOmYBqadhbGmAkpRaftNmFT80KtJ64hhrnkLaWVeQ5TTvo24ERkiq50oArQvNxvBs9drqC9qstCcVsoNq8mHZoBYJdsMfb1GwdZmeLOe2lBmsGRmxQksuLj5rdvA76QScWf+nRqdthE1Czd3DLCQC8NJ4gOkGVam8oFubm9CGpjsZ/8HqyGt0PXue8T4e4Xeo7XjIW+di8qymmDel5Q8AGHbinJfq5D4I+ORmmecoqE2fMI2Ng4x1w4cybBNDNtiDxza61OJOJ1A9vc/+weZxQoyYkco2U29uwjFAxfcIABm2g5qn74ZLYNrdtWK6Df5boqcu3ksb9ZftoHOCp03COId3f741+MzJ+hheAQBiRlhD6NHdEnXg/Ezf+wI+x8ETrK3fNTt9qIXm/VyD0Drh2DijNrROfeg0xMxKojvY6A6/nS/rs6S7Ogmjg2G96OrAZWa91DZSV66LEYVmdfOqK8HgcYE5SelmZGNt7a4/En1tnpi5GRGDEAluaO4j/exEbVyoQ4CiCYpIzfVPfJUE9bcPJdf0YWI/F90X/NVfj8lCvDcNLEbfXvvvdUrwOrTIluMyoLPY91Nku9CWY8/5hGVnZppVvh2TBLYyqDCwbcCOQN3DKZv6LxJ9LSN3M4oMb8=
  - secure: RX/rZ48Isbtgjk9Kj3r4D4gQB9k6TntCYGKvLubhge4NlDMyZMEKYwvHnZmfVVw4OY7vZadbpMaT9DpkGgHi48BA0u+wamcQheh6DEv4Lcdb/6Vet70q20sl1MmpOmvAz3Ka37Jt8jt3tagn1MSr27a3spqLBhCbObzr9Zq8SRMnjBm7jzjRDIewY8EBL9zaiJhYsdulmQ6u59R3ZfTLcNQhSK9tYocn/zaLO1nMqqeFjlNc9P4iPq4xwfegNoLxmQwk3aaCj/fZggFwGKUGVvkjQ3YJyAmYDfcTzHEzGmDci6Wo0IjRLs4vAp7do29C7aTyP0XxOPU50LxjK45cc0vO9tTfaPV1p+Rg6QtpRad+SBom1Iyqxh1RQ90Pro2SLpgmygNxm4ZhtFZhuDPPxyPqJIV1SlDWK5yM8410WHQ9CR73+97mPlzO28ybQb6l+tswuW2b2zygeuPUYJ9zdBaG2BGSf+f3FOGmCxu2WOGSLjtPp6WGYNv6dwI+EieQBYYq0yfr/r7mMyKsvwi4fR6TFtYCj90ymyeni1OBOZj4Z+opRSxQwmVikALlwiMEE8JBhjQl4A+KLIX59UWI7o9W0MYtwiiISYzaqHNBSa6aP5CnbuL2oJFiCL27uVVpPHo/XQYfMJ6WGHAjeLU7PD3I5BwBKZxtmA4g4TlNPUI=
  - secure: pLL2UcVZvpYlTYVIRtFkJMbYXzxqj/11UigJjnq6jG/3/A4lue6/pnb6JH53oSvrrzP2m0RuRRl8CScxaHaUdYXJ4yKLi/mIOCwCUfVJPDiqMw88NzEKxBJsXIDV2q9XTITGfXYMR5PKo4YFYP4AvdoiPpabBCTIzPnKIurcMr4KbeB1zzIwjCRlRsAyygOvkOG4pLe5cAPpaEPPOMjm15eJr8zqYPWlklrf1IpEp4MVKqLFdiOo5JOWRtvK8bK3M0CGB1irqzvmAE+FLxoKWOqALt8nzli00TuoGYkDbkwvm3GJJk3RDYOzCrpJReOCZLHzE6EHBBDs1vY4YM5rMyjqeFvzPDFGvAFnBxqk+4lum3p1pBxVyy0Nzko3gvoxXJ18ahrhvJg1KoemGCZaJ6BkgPCNgeCldYA9TNoRpVtXSbkl0fliqRV6W2B8cu8RjTPOzjveBVEGHM5feuJiL8SzD9e1e4sbTpzcDFkcGvxo+S+ClAepVQg5vKH6UaMuelIHzBJ1KBTq5oJR/y83/ol746uZKOUjKI37keqi84K94pS8mbSqVqVmWdrHJZyRGKY2/j4IbjRQbVnY6e6+xbRoUOk+eOL+E2fuEEzTF01dJkUB2Y/dkhLCC7TGYI+PY9etfWflh3OvEBwJGf2CM27dti4Upg5zqeTYOCk2QJA=
  - secure: KxLCwVxnYW3rxgTsH3vJ7lIjtyhKLxtPu3LjYKWXYWBfgkWz77ePZC8vqHVTce9EdPjfqketMg1Q4nhJ8hrDBjYqQguqcLOQqMICBSsQ1/etNDCUkAGQQOFaG8OwLiJVmHg2dKsGU+UxyB8DGRtduYypVaKoGTW76hauSLgIWDBtBxd3FD0ALrQ2EIh/iH80Ar1aONVEP6M45uN4+SWwx/a+UqyuAqGuqLkJPtVRx1amWb6KJWl5ZVyUaOdNaigAxVqMaZ7Ln2R18zp3pBX7+DFm7T5PBUQL8at0Kn+dN/kRHJUslER71p27PUWqnDW6wXkXmWiN6hbfwI0zx4BpvGs5q5ICeVtz/sOhO1qpOTpdhUbXbpEmFYEngR/Nr0dNYNcFr/AvF0zYb4OsssC1pbPvquZUdztjMa9sr066bg4mOfCijRTqRHIv+NA7zgccJFLbiRLjhK3BUQejZDuUAdc4NhRt1jQX2cyaEfzROzpY5Vk1rYq7OPkAxk3Iqmu1ry7sBbDQf6bMvEzKAHY4wgqQA45F5Vgmq7IygdjIH6tAjXgwKU9QjrExYjLHBnhQl1xW/G853UXgcbWuxNYYL80FlM5jQD/ODsRTzXsXcN74rnfeZK1bokBrmUtOdgAe48VTvQ/PNyJgyASjG9FBFOJW+7KT+2aCRxpvg7tqLeM=
